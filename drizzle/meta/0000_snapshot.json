{
  "id": "303e7d91-13dd-42bd-b314-c23d447c4178",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "account": {
      "name": "account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "currency",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "balance": {
          "name": "balance",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "account_email_idx": {
          "name": "account_email_idx",
          "columns": [
            "email"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "attachments": {
      "name": "attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "thumbnail_url": {
          "name": "thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "attachments_message_idx": {
          "name": "attachments_message_idx",
          "columns": [
            "message_id"
          ],
          "isUnique": false
        },
        "attachments_mime_type_idx": {
          "name": "attachments_mime_type_idx",
          "columns": [
            "mime_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "attachments_message_id_messages_id_fk": {
          "name": "attachments_message_id_messages_id_fk",
          "tableFrom": "attachments",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "conversation_members": {
      "name": "conversation_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "member_role",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "nickname": {
          "name": "nickname",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "is_muted": {
          "name": "is_muted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "muted_until": {
          "name": "muted_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_pinned": {
          "name": "is_pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "last_read_message_id": {
          "name": "last_read_message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "last_read_at": {
          "name": "last_read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "unread_count": {
          "name": "unread_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "left_at": {
          "name": "left_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "conversation_members_unique": {
          "name": "conversation_members_unique",
          "columns": [
            "conversation_id",
            "user_id"
          ],
          "isUnique": true
        },
        "conversation_members_conversation_idx": {
          "name": "conversation_members_conversation_idx",
          "columns": [
            "conversation_id"
          ],
          "isUnique": false
        },
        "conversation_members_user_idx": {
          "name": "conversation_members_user_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "conversation_members_last_read_at_idx": {
          "name": "conversation_members_last_read_at_idx",
          "columns": [
            "last_read_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "conversation_members_conversation_id_conversations_id_fk": {
          "name": "conversation_members_conversation_id_conversations_id_fk",
          "tableFrom": "conversation_members",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conversation_members_user_id_users_id_fk": {
          "name": "conversation_members_user_id_users_id_fk",
          "tableFrom": "conversation_members",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "conversation_type",
          "primaryKey": false,
          "notNull": true
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_pinned": {
          "name": "is_pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "last_message_id": {
          "name": "last_message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_id": {
          "name": "created_by_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "conversations_type_idx": {
          "name": "conversations_type_idx",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "conversations_last_message_at_idx": {
          "name": "conversations_last_message_at_idx",
          "columns": [
            "last_message_at"
          ],
          "isUnique": false
        },
        "conversations_created_by_idx": {
          "name": "conversations_created_by_idx",
          "columns": [
            "created_by_id"
          ],
          "isUnique": false
        },
        "conversations_archived_idx": {
          "name": "conversations_archived_idx",
          "columns": [
            "is_archived"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "conversations_created_by_id_users_id_fk": {
          "name": "conversations_created_by_id_users_id_fk",
          "tableFrom": "conversations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "message_reactions": {
      "name": "message_reactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "emoji": {
          "name": "emoji",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "message_reactions_unique": {
          "name": "message_reactions_unique",
          "columns": [
            "message_id",
            "user_id",
            "emoji"
          ],
          "isUnique": true
        },
        "message_reactions_message_idx": {
          "name": "message_reactions_message_idx",
          "columns": [
            "message_id"
          ],
          "isUnique": false
        },
        "message_reactions_user_idx": {
          "name": "message_reactions_user_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "message_reactions_message_id_messages_id_fk": {
          "name": "message_reactions_message_id_messages_id_fk",
          "tableFrom": "message_reactions",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_reactions_user_id_users_id_fk": {
          "name": "message_reactions_user_id_users_id_fk",
          "tableFrom": "message_reactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "message_receipts": {
      "name": "message_receipts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_delivered": {
          "name": "is_delivered",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "message_receipts_unique": {
          "name": "message_receipts_unique",
          "columns": [
            "message_id",
            "user_id"
          ],
          "isUnique": true
        },
        "message_receipts_message_idx": {
          "name": "message_receipts_message_idx",
          "columns": [
            "message_id"
          ],
          "isUnique": false
        },
        "message_receipts_user_idx": {
          "name": "message_receipts_user_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "message_receipts_delivered_idx": {
          "name": "message_receipts_delivered_idx",
          "columns": [
            "is_delivered"
          ],
          "isUnique": false
        },
        "message_receipts_read_idx": {
          "name": "message_receipts_read_idx",
          "columns": [
            "is_read"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "message_receipts_message_id_messages_id_fk": {
          "name": "message_receipts_message_id_messages_id_fk",
          "tableFrom": "message_receipts",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_receipts_user_id_users_id_fk": {
          "name": "message_receipts_user_id_users_id_fk",
          "tableFrom": "message_receipts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sender_id": {
          "name": "sender_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reply_to_id": {
          "name": "reply_to_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "forwarded_from_id": {
          "name": "forwarded_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "message_type",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "is_edited": {
          "name": "is_edited",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "edited_at": {
          "name": "edited_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_pinned": {
          "name": "is_pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "pinned_at": {
          "name": "pinned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "pinned_by_id": {
          "name": "pinned_by_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "messages_conversation_idx": {
          "name": "messages_conversation_idx",
          "columns": [
            "conversation_id"
          ],
          "isUnique": false
        },
        "messages_sender_idx": {
          "name": "messages_sender_idx",
          "columns": [
            "sender_id"
          ],
          "isUnique": false
        },
        "messages_created_at_idx": {
          "name": "messages_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        },
        "messages_conversation_created_at_idx": {
          "name": "messages_conversation_created_at_idx",
          "columns": [
            "conversation_id",
            "created_at"
          ],
          "isUnique": false
        },
        "messages_reply_to_idx": {
          "name": "messages_reply_to_idx",
          "columns": [
            "reply_to_id"
          ],
          "isUnique": false
        },
        "messages_type_idx": {
          "name": "messages_type_idx",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "messages_deleted_idx": {
          "name": "messages_deleted_idx",
          "columns": [
            "is_deleted"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "messages_conversation_id_conversations_id_fk": {
          "name": "messages_conversation_id_conversations_id_fk",
          "tableFrom": "messages",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "messages_sender_id_users_id_fk": {
          "name": "messages_sender_id_users_id_fk",
          "tableFrom": "messages",
          "tableTo": "users",
          "columnsFrom": [
            "sender_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "messages_pinned_by_id_users_id_fk": {
          "name": "messages_pinned_by_id_users_id_fk",
          "tableFrom": "messages",
          "tableTo": "users",
          "columnsFrom": [
            "pinned_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "notification_type",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "notifications_user_idx": {
          "name": "notifications_user_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "notifications_type_idx": {
          "name": "notifications_type_idx",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "notifications_is_read_idx": {
          "name": "notifications_is_read_idx",
          "columns": [
            "is_read"
          ],
          "isUnique": false
        },
        "notifications_created_at_idx": {
          "name": "notifications_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        },
        "notifications_user_is_read_idx": {
          "name": "notifications_user_is_read_idx",
          "columns": [
            "user_id",
            "is_read"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "notifications_user_id_users_id_fk": {
          "name": "notifications_user_id_users_id_fk",
          "tableFrom": "notifications",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_contacts": {
      "name": "user_contacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nickname": {
          "name": "nickname",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "is_blocked": {
          "name": "is_blocked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_favorite": {
          "name": "is_favorite",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_contacts_unique": {
          "name": "user_contacts_unique",
          "columns": [
            "user_id",
            "contact_id"
          ],
          "isUnique": true
        },
        "user_contacts_user_idx": {
          "name": "user_contacts_user_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "user_contacts_contact_idx": {
          "name": "user_contacts_contact_idx",
          "columns": [
            "contact_id"
          ],
          "isUnique": false
        },
        "user_contacts_blocked_idx": {
          "name": "user_contacts_blocked_idx",
          "columns": [
            "is_blocked"
          ],
          "isUnique": false
        },
        "user_contacts_favorite_idx": {
          "name": "user_contacts_favorite_idx",
          "columns": [
            "is_favorite"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_contacts_user_id_users_id_fk": {
          "name": "user_contacts_user_id_users_id_fk",
          "tableFrom": "user_contacts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_contacts_contact_id_users_id_fk": {
          "name": "user_contacts_contact_id_users_id_fk",
          "tableFrom": "user_contacts",
          "tableTo": "users",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_presence": {
      "name": "user_presence",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "user_status",
          "primaryKey": false,
          "notNull": true
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "current_conversation_id": {
          "name": "current_conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_typing": {
          "name": "is_typing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "typing_in_conversation_id": {
          "name": "typing_in_conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_presence_user_idx": {
          "name": "user_presence_user_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": true
        },
        "user_presence_status_idx": {
          "name": "user_presence_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "user_presence_last_active_idx": {
          "name": "user_presence_last_active_idx",
          "columns": [
            "last_active_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_presence_user_id_users_id_fk": {
          "name": "user_presence_user_id_users_id_fk",
          "tableFrom": "user_presence",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_presence_current_conversation_id_conversations_id_fk": {
          "name": "user_presence_current_conversation_id_conversations_id_fk",
          "tableFrom": "user_presence",
          "tableTo": "conversations",
          "columnsFrom": [
            "current_conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "user_presence_typing_in_conversation_id_conversations_id_fk": {
          "name": "user_presence_typing_in_conversation_id_conversations_id_fk",
          "tableFrom": "user_presence",
          "tableTo": "conversations",
          "columnsFrom": [
            "typing_in_conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_presence_user_id_unique": {
          "name": "user_presence_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      }
    },
    "user_sessions": {
      "name": "user_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device_info": {
          "name": "device_info",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "is_valid": {
          "name": "is_valid",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_sessions_refresh_token_idx": {
          "name": "user_sessions_refresh_token_idx",
          "columns": [
            "refresh_token"
          ],
          "isUnique": true
        },
        "user_sessions_user_idx": {
          "name": "user_sessions_user_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "user_sessions_expires_at_idx": {
          "name": "user_sessions_expires_at_idx",
          "columns": [
            "expires_at"
          ],
          "isUnique": false
        },
        "user_sessions_is_valid_idx": {
          "name": "user_sessions_is_valid_idx",
          "columns": [
            "is_valid"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_sessions_user_id_users_id_fk": {
          "name": "user_sessions_user_id_users_id_fk",
          "tableFrom": "user_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_sessions_refresh_token_unique": {
          "name": "user_sessions_refresh_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "refresh_token"
          ]
        }
      }
    },
    "users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "user_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'offline'"
        },
        "status_message": {
          "name": "status_message",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_email_verified": {
          "name": "is_email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_phone_verified": {
          "name": "is_phone_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_two_factor_enabled": {
          "name": "is_two_factor_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "notification_settings": {
          "name": "notification_settings",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"email\":true,\"push\":true,\"sound\":true,\"desktop\":true}'::json"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            "email"
          ],
          "isUnique": true
        },
        "users_username_idx": {
          "name": "users_username_idx",
          "columns": [
            "username"
          ],
          "isUnique": true
        },
        "users_status_idx": {
          "name": "users_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "users_created_at_idx": {
          "name": "users_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      }
    }
  },
  "enums": {
    "conversation_type": {
      "name": "conversation_type",
      "values": {
        "direct": "direct",
        "group": "group",
        "channel": "channel"
      }
    },
    "currency": {
      "name": "currency",
      "values": {
        "USD": "USD",
        "EUR": "EUR",
        "GBP": "GBP"
      }
    },
    "member_role": {
      "name": "member_role",
      "values": {
        "owner": "owner",
        "admin": "admin",
        "moderator": "moderator",
        "member": "member"
      }
    },
    "message_type": {
      "name": "message_type",
      "values": {
        "text": "text",
        "image": "image",
        "video": "video",
        "audio": "audio",
        "file": "file",
        "system": "system"
      }
    },
    "notification_type": {
      "name": "notification_type",
      "values": {
        "message": "message",
        "mention": "mention",
        "reaction": "reaction",
        "system": "system"
      }
    },
    "reaction_type": {
      "name": "reaction_type",
      "values": {
        "like": "like",
        "love": "love",
        "laugh": "laugh",
        "wow": "wow",
        "sad": "sad",
        "angry": "angry"
      }
    },
    "user_status": {
      "name": "user_status",
      "values": {
        "online": "online",
        "offline": "offline",
        "away": "away",
        "busy": "busy",
        "invisible": "invisible"
      }
    }
  },
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}